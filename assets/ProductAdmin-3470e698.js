import{d as V,j as U,r as g,s as S,c as M,o as r,a as d,b as e,t as n,f as x,w as i,v as c,A as f,F as N,e as A,n as B}from"./index-406b3c36.js";import{_}from"./BarcodeDisplay.vue_vue_type_script_setup_true_lang-05542ee5.js";import"./_commonjsHelpers-725317a4.js";const j={class:"space-y-6"},q={class:"glass-panel space-y-4"},L={class:"flex flex-wrap items-center justify-between gap-3"},O={class:"section-heading"},D={class:"flex gap-2"},E={key:0,class:"rounded-2xl border border-red-300 bg-red-500/20 px-4 py-2 text-sm text-red-200"},F={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},I={class:"sm:col-span-2"},$={class:"barcode-field"},Q={key:0,class:"mt-3 barcode-wrapper p-3 rounded-xl"},z={class:"glass-panel"},G={class:"mb-5 flex flex-wrap items-center gap-3"},K={class:"max-h-[600px] overflow-y-auto rounded-2xl border border-slate-700 dark:border-slate-800"},R={class:"grid grid-cols-1 gap-4 p-4 sm:grid-cols-2 lg:grid-cols-3"},T=["src","alt"],H={class:"mt-3"},J={class:"flex items-start justify-between"},W={class:"text-sm font-semibold text-slate-100"},X={class:"text-xs text-slate-400"},Y={class:"mt-3 text-lg font-bold text-slate-100"},Z={class:"mt-3 barcode-wrapper p-2 rounded-xl"},ee={class:"mt-4 flex gap-2"},te=["onClick"],se=["onClick"],re=V({__name:"ProductAdmin",setup(le){const u=U(),b=g(""),t=S({name:"",price:0,image:"https://via.placeholder.com/100",barcode:"",stock:0}),m=g(""),a=g(null),k=M(()=>{const o=b.value.trim().toLowerCase();return o?u.products.filter(s=>s.name.toLowerCase().includes(o)||s.barcode.includes(o)):u.products});function v(){t.name="",t.price=0,t.image="https://via.placeholder.com/100",t.barcode="",t.stock=0,a.value=null,m.value=""}function h(){m.value="";const o=!!t.name.trim(),s=t.price>0,l=Number(t.stock??0),p=l>=0;if(!o||!s||!p){m.value="Please fill in required fields: Name, Price (>0), Quantity (>=0)";return}if(a.value==null){const P=t.barcode||String(1e11+Math.floor(Math.random()*9e11));u.add({name:t.name.trim(),price:t.price,image:t.image,barcode:P,stock:l})}else u.update(a.value,{name:t.name.trim(),price:t.price,image:t.image,barcode:t.barcode,stock:l});v()}function y(o){a.value=o.id,t.name=o.name,t.price=o.price,t.image=o.image,t.barcode=o.barcode,t.stock=o.stock}function w(o){u.remove(o),a.value===o&&v()}function C(){t.barcode=String(1e11+Math.floor(Math.random()*9e11))}return(o,s)=>(r(),d("div",j,[e("div",q,[e("div",L,[e("div",null,[s[6]||(s[6]=e("div",{class:"subtle-label"},"Products",-1)),e("h2",O,n(a.value==null?"Add Product":"Edit Product"),1)]),e("div",D,[a.value!=null?(r(),d("button",{key:0,class:"btn-ghost",onClick:v}," Cancel edit ")):x("",!0),e("button",{class:"btn-primary text-white",onClick:h},n(a.value==null?"Add Product":"Save Changes"),1)])]),m.value?(r(),d("div",E,n(m.value),1)):x("",!0),e("div",F,[e("div",null,[s[7]||(s[7]=e("label",{class:"subtle-label"},"Name *",-1)),i(e("input",{"onUpdate:modelValue":s[0]||(s[0]=l=>t.name=l),type:"text",class:"input-field"},null,512),[[c,t.name]])]),e("div",null,[s[8]||(s[8]=e("label",{class:"subtle-label"},"Price *",-1)),i(e("input",{"onUpdate:modelValue":s[1]||(s[1]=l=>t.price=l),type:"number",min:"0",class:"input-field"},null,512),[[c,t.price,void 0,{number:!0}]])]),e("div",null,[s[9]||(s[9]=e("label",{class:"subtle-label"},"Image URL",-1)),i(e("input",{"onUpdate:modelValue":s[2]||(s[2]=l=>t.image=l),type:"text",class:"input-field"},null,512),[[c,t.image]])]),e("div",null,[s[10]||(s[10]=e("label",{class:"subtle-label"},"Quantity *",-1)),i(e("input",{"onUpdate:modelValue":s[3]||(s[3]=l=>t.stock=l),type:"number",min:"0",class:"input-field"},null,512),[[c,t.stock,void 0,{number:!0}]])]),e("div",I,[s[11]||(s[11]=e("label",{class:"subtle-label"},"Barcode",-1)),e("div",$,[i(e("input",{"onUpdate:modelValue":s[4]||(s[4]=l=>t.barcode=l),type:"text",class:"flex-1",placeholder:"Auto or custom"},null,512),[[c,t.barcode]]),e("button",{onClick:C,class:"btn-ghost text-xs"},"Generate")]),t.barcode?(r(),d("div",Q,[f(_,{value:t.barcode},null,8,["value"])])):x("",!0)])])]),e("div",z,[e("div",G,[s[12]||(s[12]=e("div",null,[e("div",{class:"subtle-label"},"Inventory"),e("h2",{class:"section-heading"},"Products")],-1)),i(e("input",{"onUpdate:modelValue":s[5]||(s[5]=l=>b.value=l),type:"search",class:"input-field max-w-xs",placeholder:"Search by name or barcode"},null,512),[[c,b.value]])]),e("div",K,[e("div",R,[(r(!0),d(N,null,A(k.value,l=>(r(),d("div",{key:l.id,class:"rounded-2xl border border-slate-700 dark-panel p-4 shadow-sm transition hover:-translate-y-1 hover:border-blue-400 hover:shadow-lg"},[e("img",{src:l.image,alt:l.name,class:"h-24 w-full rounded-xl object-cover"},null,8,T),e("div",H,[e("div",J,[e("div",null,[e("div",W,n(l.name),1),e("div",X,"SKU "+n(l.barcode),1)]),e("span",{class:B(["pill-badge border rounded-xl px-2 py-1 text-xs",l.stock>0?"text-green-500 border-green-600":"text-red-500 border-red-600"])},n(l.stock>0?l.stock+" qty":"Out"),3)]),e("div",Y," â‚¹"+n(l.price),1),e("div",Z,[f(_,{value:l.barcode},null,8,["value"])])]),e("div",ee,[e("button",{onClick:p=>y(l),class:"btn-ghost flex-1 text-xs"},"Edit",8,te),e("button",{onClick:p=>w(l.id),class:"btn-danger flex-1 text-xs"},"Delete",8,se)])]))),128))])])])]))}});export{re as default};
